# =============================================================================
# CO2 Calculator Backend - Environment Configuration
# =============================================================================
# This file serves as a reference for all available configuration options.
# Copy this file to .env and update with your local/production values.
#
# IMPORTANT: Never commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
APP_NAME=CO2 Calculator API
APP_VERSION=0.1.0
DEBUG=True
LOCAL_ENVIRONMENT=True # Set to True for local development environment
API_VERSION=/v1
API_DOCS_PREFIX=/api
# -----------------------------------------------------------------------------
# Database Configuration (FLEXIBLE)
# -----------------------------------------------------------------------------
# The backend supports three database configuration methods:

#
# 1. DEFAULT (no configuration): Uses SQLite for local development
#    - No configuration needed!
#    - Database file: ./co2_calculator.db
#
# 2. PostgreSQL via individual fields:
#    - Uncomment and set all DB_* variables below
#
# 3. Direct DB_URL (overrides everything):
#    - Set DB_URL directly for full control
#
# Examples:
# - SQLite: DB_URL=sqlite+aiosqlite:///./co2_calculator.db
# - PostgreSQL: DB_URL=postgresql://user:pass@host:5432/dbname?sslmode=disable

# Option 2: PostgreSQL via individual fields (all required if using this method)
# DB_USER=co2user
# DB_PASSWORD=co2password
# DB_NAME=co2_calculator

# # duplicate for docker-compose compatibility
# POSTGRES_USER=co2user
# POSTGRES_PASSWORD=co2password
# POSTGRES_DB=co2_calculator

# DB_HOST=localhost
# DB_PORT=5432

# Option 3: Direct DB_URL (overrides Option 2)
# DB_URL=postgresql://co2user:co2password@localhost:5432/co2_calculator?sslmode=disable

# -----------------------------------------------------------------------------
# Security Settings (REQUIRED)
# -----------------------------------------------------------------------------
# CRITICAL: Generate a secure secret key for production!
# Generate with: openssl rand -hex 32
# Or: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-me-in-production-use-openssl-rand-hex-32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_HOURS=12

# -----------------------------------------------------------------------------
# OAuth/OIDC Configuration (optional, for future implementation)
# -----------------------------------------------------------------------------
# OAuth2/OIDC Provider (Keycloak, Entra ID, or other OIDC-compliant provider)
# OAUTH_CLIENT_ID=your-client-id
# OAUTH_CLIENT_SECRET=your-client-secret
# OAUTH_ISSUER_URL examples:
# - Keycloak: https://keycloak.example.com/realms/{your-realm}
# - Entra ID: https://login.microsoftonline.com/{tenant-id}/v2.0
# OAUTH_TENANT_ID=your-tenant-id|your-realm
# OAUTH_SCOPE=openid profile email
# OAUTH_COOKIE_PATH=/


## -------------------------------------------------------------
# ROLE PROVIDERS Configuration PLUGIN)
## -------------------------------------------------------------
# Could be 'default' or 'accred'
ROLE_PROVIDER_PLUGIN=default
## If 'accred' is chosen, additional settings are required:
# ACCRED_API_URL=https://accred.example.com/api
# ACCRED_API_KEY=your-accred-api-key
# ACCRED_API_USERNAME=your-accred-username
## we want to check the health of Accred API, and that it returns one of our expected authorizations
## could be health endpoint or direct authorizations check (it is here to check if we're autenticated and authorized)
# ACCRED_API_HEALTH_URL=https://accred.example.com/api/authorizations?type=right&authid=co2.backoffice.admin

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO


# -----------------------------------------------------------------------------
# Loki Configuration (OPTIONAL)
# -----------------------------------------------------------------------------
# Enable Loki logging integration
# LOKI_ENABLED=false
# LOKI_URL=http://loki:3100
# LOKI_TENANT_ID=your-tenant-id
# LOKI_TIMEOUT=2.0
# LOKI_LABEL_JOB=your-job-label
# LOKI_LABEL_ENV=your-env-label

# Frontend URL for OAuth redirects
FRONTEND_URL=http://localhost:9000